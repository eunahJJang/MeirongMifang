<ion-view view-title="후기">
	<!--ion-content>
		<img ng-show="imgURI !== undefined" ng-src="{{imgURI}}">
    	<img ng-show="imgURI === undefined" ng-src="http://placehold.it/300x300">
   		<button class="button" ng-click="takePicture()">Take Picture</button>
   		<button class="button" ng-click="uploadPhoto()">Bring From Assets</button>
	</ion-content-->
	<ion-content>
	<!--
		list card 클래스를 활용하여 만들어 보았습니다. 상단에는 기존에 구현되어 있는
		두 버튼을 과 button-bar 클래스를 활용하여 만들어 보았습니다. 그 다음 이미지가 나오고
		밑으로 글을 적을 수 있도록 구조를 만들어 보았습니다.
	-->
		<div class="list card">
			<!-- 
			controller.js에 있는 카테고리 정보를 불러와 select box를 만들고 
			카테고리 선택시 관련된 병원 정보들이 업테이트 되도록 ng-change 속성을 활용하였습니다.
			-->
			<label class="item item-input item-select" style="background-color:#f5f5f5">
			  <div class="input-label" >Category</div>
			  <select style="background-color:#f5f5f5" ng-options = "category for category in categorys" ng-model="review.category" ng-change="update(review)"></select>
		    </label>
			<label class="item item-input item-select" style="background-color:#f5f5f5">
			  <div class="input-label" >Hospital</div>
			  <select style="background-color:#f5f5f5" ng-options = "product as product.shopName for product in products" ng-model="review.hospital" ng-change="test(review)"></select>
		    </label>
			
			<div style="margin:5px 0px 5px 0px; "class="button-bar" >
				<a class="button" ng-click="takePicture()">Take Picture</a>
				<a class="button" ng-click="uploadPhoto()">Bring From Assets</a>
			</div>
			<!--
			스크롤 기능을 활용하여 여러 사진을 업로드 할 수 있도록 하였습니다.
			사진을 수직으로 나열 할 경우 글 사이에 배치하기 어려운 점과 한꺼번에
			배치시킬 경우 스크롤 압박 문제가 있을 것 같아서 수평으로 나열할 수 있도록 하였습니다.
			-->
			<div style="height:300px; border:1px solid #b2b2b2"class="item item-image">
				<ion-scroll direction="x" paging="true">
				<ion-refresher pulling-text="Pull to refresh..." on-refresh="doRefresh()">  </ion-refresher>
					<img src="http://placehold.it/300x300" style="margin-right:10px border:1px solid gray">
					<img src="http://placehold.it/300x300" style="margin-right:10px border:1px solid gray">
					<img src="http://placehold.it/300x300" style="margin-right:10px border:1px solid gray">					
				</ion-scroll>
			</div>
			<div style="padding:10px; border:1px solid #b2b2b2"class="item item-body">
				<textarea id="bodyInput" ng-model="review.body" ng-keyup="autoExpand($event)" 
				style="padding:10px; resize:none" placeholder="내용을 입력하세요"></textarea>		
			</div>
			<!-- 
			취소 버튼의 경우 뒤로 가는 cancle 함수를 적용시켰고
			업로드 버튼의 경우 서버로 리뷰 작성글을 전송해주는 upload 함수를 적용시켰습니다.
			-->
			<div style="margin:5px 0px 5px 0px"class="button-bar" >
				<a class="button" ng-click="cancle()">취소</a>
				<a class="button" ng-click="upload(review)">올리기</a> 
			</div>
		</div>
	</ion-content>
</ion-view>